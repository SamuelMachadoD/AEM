{"code":"(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[6],{360:function(t,e,s){\"undefined\"!=typeof self&&self,t.exports=function(t){var e={};function s(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,\"a\",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p=\"\",s(s.s=18)}({0:function(t,e){t.exports=s(0)},1:function(t,e){t.exports=s(4)},18:function(t,e,s){t.exports=s(9)},2:function(t,e,s){\"use strict\";s.d(e,\"b\",(function(){return n})),s.d(e,\"a\",(function(){return o}));var a=s(0);const i=(()=>{try{return\"undefined\"!=typeof window}catch(t){return!1}})(),n=(t,e)=>s=>{const i=s.baseCssClass,n=i&&i.trim().length>0?i:e,o={...s,baseCssClass:n};return a.createElement(t,Object.assign({},o))},o=t=>class extends a.Component{constructor(t){super(t),this.state={},i&&window.Granite&&window.Granite.author&&window.Granite.author.MessageChannel&&(this.messageChannel=new window.Granite.author.MessageChannel(\"cqauthor\",window),this.callback=this.callback.bind(this))}callback(t){if(t.data&&t.data.id===this.props.cqPath&&\"navigate\"===t.data.operation){const e=t.data.index;this.setState({activeIndexFromAuthorPanel:e})}}componentDidMount(){this.messageChannel&&this.messageChannel.subscribeRequestMessage(\"cmp.panelcontainer\",this.callback)}componentWillUnmount(){this.messageChannel&&this.messageChannel.unsubscribeRequestMessage(\"cmp.panelcontainer\",this.callback)}render(){return a.createElement(t,Object.assign({},this.props,{activeIndexFromAuthorPanel:this.state.activeIndexFromAuthorPanel}))}}},5:function(t,e,s){\"use strict\";function a(t){return null==t.cqItemsOrder||0===t.cqItemsOrder.length}s.d(e,\"a\",(function(){return a}))},9:function(t,e,s){\"use strict\";s.r(e);var a=s(0),i=s.n(a),n=s(2),o=s(1),r=s(5);const l=(t,e)=>{let s=t;for(let a=0;a<e.length;a++){const t=\"{\"+a+\"}\";s=s.replace(t,e[a])}return s};class c extends o.Container{constructor(t){super(t),this.interval=0,this.clearAutoPlay=()=>{window.clearInterval(this.interval)},this.state={activeIndex:0,isMouseEntered:!1,autoPlay:this.props.autoplay&&!this.props.isInEditor,componentMapping:this.props.componentMapping||o.ComponentMapping},this.handleIndicatorClick=this.handleIndicatorClick.bind(this),this.handleOnButtonPrev=this.handleOnButtonPrev.bind(this),this.handleOnButtonNext=this.handleOnButtonNext.bind(this),this.handleOnMouseEnter=this.handleOnMouseEnter.bind(this),this.handleOnMouseLeave=this.handleOnMouseLeave.bind(this)}componentDidUpdate(t,e,s){void 0!==this.props.activeIndexFromAuthorPanel&&t.activeIndexFromAuthorPanel!=this.props.activeIndexFromAuthorPanel&&(this.setState({activeIndex:this.props.activeIndexFromAuthorPanel}),this.toggleAutoPlay(!1))}componentDidMount(){this.autoPlay()}componentWillUnmount(){this.interval&&this.clearAutoPlay()}handleOnMouseEnter(){!this.props.autopauseDisabled&&this.props.autoplay&&this.clearAutoPlay()}handleOnMouseLeave(){!this.props.autopauseDisabled&&this.props.autoplay&&this.autoPlay()}handleOnButtonPrev(){this.prevSlide()}handleOnButtonNext(){this.nextSlide()}handleIndicatorClick(t){this.state.activeIndex!==t&&this.setState({activeIndex:t})}autoPlay(){this.interval=window.setInterval((()=>{this.autoPlayTick()}),this.props.delay)}autoPlayTick(){!this.state.autoPlay||this.props.cqItemsOrder.length<=1||this.nextSlide()}toggleAutoPlay(t){this.setState({autoPlay:t})}nextSlide(){const t=this.__getActiveIndex();t===this.props.cqItemsOrder.length-1?this.__setSlide(0):this.__setSlide(t+1)}prevSlide(){const t=this.__getActiveIndex();0===t?this.__setSlide(this.props.cqItemsOrder.length-1):this.__setSlide(t-1)}__getActiveIndex(){return this.state.activeIndex}__setSlide(t){this.setState({activeIndex:t})}render(){const t=Object(r.a)(this.props);return i.a.createElement(\"div\",{className:this.props.baseCssClass,role:\"group\",\"data-panelcontainer\":\"carousel\",\"aria-label\":this.props.accessibilityLabel,\"aria-roledescription\":\"carousel\"},!t&&this.renderCarousel(),this.placeholderComponent)}displayItem(t,e){const s=e===this.state.activeIndex,a=!(!s&&!this.props.isInEditor),n=s?\"\".concat(this.props.baseCssClass,\"__item \").concat(this.props.baseCssClass,\"__item--active\"):this.props.baseCssClass+\"__item\",o=l(this.props.accessibility.slide,[(e+1).toString(),this.props.cqItemsOrder.length.toString()]);return i.a.createElement(\"div\",{key:\"item-\"+e,className:n,role:\"tabpanel\",\"aria-label\":o,\"data-cmp-hook-carousel\":\"item\"},a&&t)}renderCarousel(){return i.a.createElement(\"div\",{className:this.props.baseCssClass+\"__content\",onMouseEnter:()=>this.handleOnMouseEnter(),onMouseLeave:()=>this.handleOnMouseLeave()},this.childComponents.map(((t,e)=>this.displayItem(t,e))),this.renderCarouselActions(),this.renderCarouselIndicators())}renderCarouselIndicators(){return i.a.createElement(\"ol\",{className:this.props.baseCssClass+\"__indicators\",role:\"tablist\",\"aria-label\":this.props.accessibility.indicators},this.props.cqItemsOrder.map(((t,e)=>{const s=this.props.cqItems[t],a=e===this.state.activeIndex?\"\".concat(this.props.baseCssClass,\"__indicator \").concat(this.props.baseCssClass,\"__indicator--active\"):this.props.baseCssClass+\"__indicator\",n=l(this.props.accessibility.indicator,[(e+1).toString()]);return i.a.createElement(\"li\",{key:\"item-\"+e,onClick:()=>this.handleIndicatorClick(e),className:a,role:\"tab\",\"aria-label\":n},s[\"cq:panelTitle\"])})))}renderCarouselActions(){return i.a.createElement(\"div\",{className:this.props.baseCssClass+\"__actions\"},i.a.createElement(\"button\",{onClick:()=>this.handleOnButtonPrev(),className:\"\".concat(this.props.baseCssClass,\"__action \").concat(this.props.baseCssClass,\"__action--previous\"),type:\"button\",\"aria-label\":this.props.accessibility.previous},i.a.createElement(\"span\",{className:this.props.baseCssClass+\"__action-icon\"}),i.a.createElement(\"span\",{className:this.props.baseCssClass+\"__action-text\"},this.props.accessibility.previous)),i.a.createElement(\"button\",{onClick:()=>this.handleOnButtonNext(),className:\"\".concat(this.props.baseCssClass,\"__action \").concat(this.props.baseCssClass,\"__action--next\"),type:\"button\",\"aria-label\":this.props.accessibility.next},i.a.createElement(\"span\",{className:this.props.baseCssClass+\"__action-icon\"}),i.a.createElement(\"span\",{className:this.props.baseCssClass+\"__action-text\"},this.props.accessibility.next)),this.props.autoplay&&i.a.createElement(i.a.Fragment,null,i.a.createElement(\"button\",{className:\"\".concat(this.props.baseCssClass,\"__action \").concat(this.props.baseCssClass,\"__action--pause \")+(this.state.autoPlay?\"\":this.props.baseCssClass+\"__action--disabled\"),type:\"button\",\"aria-label\":this.props.accessibility.pause,onClick:()=>this.toggleAutoPlay(!1)},i.a.createElement(\"span\",{className:this.props.baseCssClass+\"__action-icon\"}),i.a.createElement(\"span\",{className:this.props.baseCssClass+\"__action-text\"},this.props.accessibility.pause)),i.a.createElement(\"button\",{className:\"\".concat(this.props.baseCssClass,\"__action \").concat(this.props.baseCssClass,\"__action--play \")+(this.state.autoPlay?this.props.baseCssClass+\"__action--disabled\":\"\"),type:\"button\",\"aria-label\":this.props.accessibility.play,onClick:()=>this.toggleAutoPlay(!0)},i.a.createElement(\"span\",{className:this.props.baseCssClass+\"__action-icon\"}),i.a.createElement(\"span\",{className:this.props.baseCssClass+\"__action-text\"},this.props.accessibility.play))))}}c.defaultProps={_allowedComponentPlaceholderListEmptyLabel:\"CarouselV1\",isInEditor:!1,autoplay:!1,cqPath:\"\",cqItems:{},cqItemsOrder:[],accessibilityLabel:\"Carousel\",accessibility:{play:\"Play\",pause:\"Pause\",next:\"Next\",previous:\"Previous\",slide:\"Slide {0} of {1}\",indicator:\"Slide %{0}\",indicators:\"Choose a slide to display\"}},e.default=Object(n.b)(Object(n.a)(c),\"cmp-carousel\")}})}}]);","name":"static/js/6.4bf5173c.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","self","e","t","s","a","i","l","call","m","c","d","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","__esModule","create","bind","n","default","prototype","hasOwnProperty","p","window","baseCssClass","trim","length","createElement","assign","Component","constructor","super","state","Granite","author","MessageChannel","messageChannel","callback","data","id","props","cqPath","operation","index","setState","activeIndexFromAuthorPanel","componentDidMount","subscribeRequestMessage","componentWillUnmount","unsubscribeRequestMessage","render","cqItemsOrder","replace","Container","interval","clearAutoPlay","clearInterval","activeIndex","isMouseEntered","autoPlay","autoplay","isInEditor","componentMapping","ComponentMapping","handleIndicatorClick","handleOnButtonPrev","handleOnButtonNext","handleOnMouseEnter","handleOnMouseLeave","componentDidUpdate","toggleAutoPlay","autopauseDisabled","prevSlide","nextSlide","setInterval","autoPlayTick","delay","__getActiveIndex","__setSlide","className","role","accessibilityLabel","renderCarousel","placeholderComponent","displayItem","concat","accessibility","slide","toString","key","onMouseEnter","onMouseLeave","childComponents","map","renderCarouselActions","renderCarouselIndicators","indicators","cqItems","indicator","onClick","type","previous","next","Fragment","pause","play","defaultProps","_allowedComponentPlaceholderListEmptyLabel","b"],"sources":["static/js/6.4bf5173c.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonpreactapp\"] = this[\"webpackJsonpreactapp\"] || []).push([[6],{\n\n/***/ 360:\n/***/ (function(module, exports, __webpack_require__) {\n\n!function (e, t) {\n   true ? module.exports = t() : undefined;\n}(\"undefined\" != typeof self ? self : this, function () {\n  return function (e) {\n    var t = {};\n\n    function s(a) {\n      if (t[a]) return t[a].exports;\n      var i = t[a] = {\n        i: a,\n        l: !1,\n        exports: {}\n      };\n      return e[a].call(i.exports, i, i.exports, s), i.l = !0, i.exports;\n    }\n\n    return s.m = e, s.c = t, s.d = function (e, t, a) {\n      s.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: a\n      });\n    }, s.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, s.t = function (e, t) {\n      if (1 & t && (e = s(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var a = Object.create(null);\n      if (s.r(a), Object.defineProperty(a, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var i in e) s.d(a, i, function (t) {\n        return e[t];\n      }.bind(null, i));\n      return a;\n    }, s.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return s.d(t, \"a\", t), t;\n    }, s.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, s.p = \"\", s(s.s = 18);\n  }({\n    0: function (e, t) {\n      e.exports = __webpack_require__(0);\n    },\n    1: function (e, t) {\n      e.exports = __webpack_require__(4);\n    },\n    18: function (e, t, s) {\n      e.exports = s(9);\n    },\n    2: function (e, t, s) {\n      \"use strict\";\n\n      s.d(t, \"b\", function () {\n        return n;\n      }), s.d(t, \"a\", function () {\n        return o;\n      });\n      var a = s(0);\n\n      const i = (() => {\n        try {\n          return \"undefined\" != typeof window;\n        } catch (e) {\n          return !1;\n        }\n      })(),\n            n = (e, t) => s => {\n        const i = s.baseCssClass,\n              n = i && i.trim().length > 0 ? i : t,\n              o = { ...s,\n          baseCssClass: n\n        };\n        return a.createElement(e, Object.assign({}, o));\n      },\n            o = e => class extends a.Component {\n        constructor(e) {\n          super(e), this.state = {}, i && window.Granite && window.Granite.author && window.Granite.author.MessageChannel && (this.messageChannel = new window.Granite.author.MessageChannel(\"cqauthor\", window), this.callback = this.callback.bind(this));\n        }\n\n        callback(e) {\n          if (e.data && e.data.id === this.props.cqPath && \"navigate\" === e.data.operation) {\n            const t = e.data.index;\n            this.setState({\n              activeIndexFromAuthorPanel: t\n            });\n          }\n        }\n\n        componentDidMount() {\n          this.messageChannel && this.messageChannel.subscribeRequestMessage(\"cmp.panelcontainer\", this.callback);\n        }\n\n        componentWillUnmount() {\n          this.messageChannel && this.messageChannel.unsubscribeRequestMessage(\"cmp.panelcontainer\", this.callback);\n        }\n\n        render() {\n          return a.createElement(e, Object.assign({}, this.props, {\n            activeIndexFromAuthorPanel: this.state.activeIndexFromAuthorPanel\n          }));\n        }\n\n      };\n    },\n    5: function (e, t, s) {\n      \"use strict\";\n\n      function a(e) {\n        return null == e.cqItemsOrder || 0 === e.cqItemsOrder.length;\n      }\n\n      s.d(t, \"a\", function () {\n        return a;\n      });\n    },\n    9: function (e, t, s) {\n      \"use strict\";\n\n      s.r(t);\n      var a = s(0),\n          i = s.n(a),\n          n = s(2),\n          o = s(1),\n          r = s(5);\n\n      const l = (e, t) => {\n        let s = e;\n\n        for (let e = 0; e < t.length; e++) {\n          const a = \"{\" + e + \"}\";\n          s = s.replace(a, t[e]);\n        }\n\n        return s;\n      };\n\n      class c extends o.Container {\n        constructor(e) {\n          super(e), this.interval = 0, this.clearAutoPlay = () => {\n            window.clearInterval(this.interval);\n          }, this.state = {\n            activeIndex: 0,\n            isMouseEntered: !1,\n            autoPlay: this.props.autoplay && !this.props.isInEditor,\n            componentMapping: this.props.componentMapping || o.ComponentMapping\n          }, this.handleIndicatorClick = this.handleIndicatorClick.bind(this), this.handleOnButtonPrev = this.handleOnButtonPrev.bind(this), this.handleOnButtonNext = this.handleOnButtonNext.bind(this), this.handleOnMouseEnter = this.handleOnMouseEnter.bind(this), this.handleOnMouseLeave = this.handleOnMouseLeave.bind(this);\n        }\n\n        componentDidUpdate(e, t, s) {\n          void 0 !== this.props.activeIndexFromAuthorPanel && e.activeIndexFromAuthorPanel != this.props.activeIndexFromAuthorPanel && (this.setState({\n            activeIndex: this.props.activeIndexFromAuthorPanel\n          }), this.toggleAutoPlay(!1));\n        }\n\n        componentDidMount() {\n          this.autoPlay();\n        }\n\n        componentWillUnmount() {\n          this.interval && this.clearAutoPlay();\n        }\n\n        handleOnMouseEnter() {\n          !this.props.autopauseDisabled && this.props.autoplay && this.clearAutoPlay();\n        }\n\n        handleOnMouseLeave() {\n          !this.props.autopauseDisabled && this.props.autoplay && this.autoPlay();\n        }\n\n        handleOnButtonPrev() {\n          this.prevSlide();\n        }\n\n        handleOnButtonNext() {\n          this.nextSlide();\n        }\n\n        handleIndicatorClick(e) {\n          this.state.activeIndex !== e && this.setState({\n            activeIndex: e\n          });\n        }\n\n        autoPlay() {\n          this.interval = window.setInterval(() => {\n            this.autoPlayTick();\n          }, this.props.delay);\n        }\n\n        autoPlayTick() {\n          !this.state.autoPlay || this.props.cqItemsOrder.length <= 1 || this.nextSlide();\n        }\n\n        toggleAutoPlay(e) {\n          this.setState({\n            autoPlay: e\n          });\n        }\n\n        nextSlide() {\n          const e = this.__getActiveIndex();\n\n          e === this.props.cqItemsOrder.length - 1 ? this.__setSlide(0) : this.__setSlide(e + 1);\n        }\n\n        prevSlide() {\n          const e = this.__getActiveIndex();\n\n          0 === e ? this.__setSlide(this.props.cqItemsOrder.length - 1) : this.__setSlide(e - 1);\n        }\n\n        __getActiveIndex() {\n          return this.state.activeIndex;\n        }\n\n        __setSlide(e) {\n          this.setState({\n            activeIndex: e\n          });\n        }\n\n        render() {\n          const e = Object(r.a)(this.props);\n          return i.a.createElement(\"div\", {\n            className: this.props.baseCssClass,\n            role: \"group\",\n            \"data-panelcontainer\": \"carousel\",\n            \"aria-label\": this.props.accessibilityLabel,\n            \"aria-roledescription\": \"carousel\"\n          }, !e && this.renderCarousel(), this.placeholderComponent);\n        }\n\n        displayItem(e, t) {\n          const s = t === this.state.activeIndex,\n                a = !(!s && !this.props.isInEditor),\n                n = s ? \"\".concat(this.props.baseCssClass, \"__item \").concat(this.props.baseCssClass, \"__item--active\") : this.props.baseCssClass + \"__item\",\n                o = l(this.props.accessibility.slide, [(t + 1).toString(), this.props.cqItemsOrder.length.toString()]);\n          return i.a.createElement(\"div\", {\n            key: \"item-\" + t,\n            className: n,\n            role: \"tabpanel\",\n            \"aria-label\": o,\n            \"data-cmp-hook-carousel\": \"item\"\n          }, a && e);\n        }\n\n        renderCarousel() {\n          return i.a.createElement(\"div\", {\n            className: this.props.baseCssClass + \"__content\",\n            onMouseEnter: () => this.handleOnMouseEnter(),\n            onMouseLeave: () => this.handleOnMouseLeave()\n          }, this.childComponents.map((e, t) => this.displayItem(e, t)), this.renderCarouselActions(), this.renderCarouselIndicators());\n        }\n\n        renderCarouselIndicators() {\n          return i.a.createElement(\"ol\", {\n            className: this.props.baseCssClass + \"__indicators\",\n            role: \"tablist\",\n            \"aria-label\": this.props.accessibility.indicators\n          }, this.props.cqItemsOrder.map((e, t) => {\n            const s = this.props.cqItems[e],\n                  a = t === this.state.activeIndex ? \"\".concat(this.props.baseCssClass, \"__indicator \").concat(this.props.baseCssClass, \"__indicator--active\") : this.props.baseCssClass + \"__indicator\",\n                  n = l(this.props.accessibility.indicator, [(t + 1).toString()]);\n            return i.a.createElement(\"li\", {\n              key: \"item-\" + t,\n              onClick: () => this.handleIndicatorClick(t),\n              className: a,\n              role: \"tab\",\n              \"aria-label\": n\n            }, s[\"cq:panelTitle\"]);\n          }));\n        }\n\n        renderCarouselActions() {\n          return i.a.createElement(\"div\", {\n            className: this.props.baseCssClass + \"__actions\"\n          }, i.a.createElement(\"button\", {\n            onClick: () => this.handleOnButtonPrev(),\n            className: \"\".concat(this.props.baseCssClass, \"__action \").concat(this.props.baseCssClass, \"__action--previous\"),\n            type: \"button\",\n            \"aria-label\": this.props.accessibility.previous\n          }, i.a.createElement(\"span\", {\n            className: this.props.baseCssClass + \"__action-icon\"\n          }), i.a.createElement(\"span\", {\n            className: this.props.baseCssClass + \"__action-text\"\n          }, this.props.accessibility.previous)), i.a.createElement(\"button\", {\n            onClick: () => this.handleOnButtonNext(),\n            className: \"\".concat(this.props.baseCssClass, \"__action \").concat(this.props.baseCssClass, \"__action--next\"),\n            type: \"button\",\n            \"aria-label\": this.props.accessibility.next\n          }, i.a.createElement(\"span\", {\n            className: this.props.baseCssClass + \"__action-icon\"\n          }), i.a.createElement(\"span\", {\n            className: this.props.baseCssClass + \"__action-text\"\n          }, this.props.accessibility.next)), this.props.autoplay && i.a.createElement(i.a.Fragment, null, i.a.createElement(\"button\", {\n            className: \"\".concat(this.props.baseCssClass, \"__action \").concat(this.props.baseCssClass, \"__action--pause \") + (this.state.autoPlay ? \"\" : this.props.baseCssClass + \"__action--disabled\"),\n            type: \"button\",\n            \"aria-label\": this.props.accessibility.pause,\n            onClick: () => this.toggleAutoPlay(!1)\n          }, i.a.createElement(\"span\", {\n            className: this.props.baseCssClass + \"__action-icon\"\n          }), i.a.createElement(\"span\", {\n            className: this.props.baseCssClass + \"__action-text\"\n          }, this.props.accessibility.pause)), i.a.createElement(\"button\", {\n            className: \"\".concat(this.props.baseCssClass, \"__action \").concat(this.props.baseCssClass, \"__action--play \") + (this.state.autoPlay ? this.props.baseCssClass + \"__action--disabled\" : \"\"),\n            type: \"button\",\n            \"aria-label\": this.props.accessibility.play,\n            onClick: () => this.toggleAutoPlay(!0)\n          }, i.a.createElement(\"span\", {\n            className: this.props.baseCssClass + \"__action-icon\"\n          }), i.a.createElement(\"span\", {\n            className: this.props.baseCssClass + \"__action-text\"\n          }, this.props.accessibility.play))));\n        }\n\n      }\n\n      c.defaultProps = {\n        _allowedComponentPlaceholderListEmptyLabel: \"CarouselV1\",\n        isInEditor: !1,\n        autoplay: !1,\n        cqPath: \"\",\n        cqItems: {},\n        cqItemsOrder: [],\n        accessibilityLabel: \"Carousel\",\n        accessibility: {\n          play: \"Play\",\n          pause: \"Pause\",\n          next: \"Next\",\n          previous: \"Previous\",\n          slide: \"Slide {0} of {1}\",\n          indicator: \"Slide %{0}\",\n          indicators: \"Choose a slide to display\"\n        }\n      }, t.default = Object(n.b)(Object(n.a)(c), \"cmp-carousel\");\n    }\n  });\n});\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["webpack://@adobe/aem-core-components-react-spa/webpack/universalModuleDefinition","webpack://@adobe/aem-core-components-react-spa/webpack/bootstrap","webpack:/@adobe/aem-core-components-react-spa/external \"react\"","webpack:/@adobe/aem-core-components-react-spa/external \"@adobe/aem-react-editable-components\"","webpack://@adobe/aem-core-components-react-spa/src/AbstractCoreContainerComponent.tsx","webpack://@adobe/aem-core-components-react-spa/src/container/carousel/v1/CarouselV1IsEmptyFn.ts","webpack://@adobe/aem-core-components-react-spa/src/container/carousel/v1/CarouselV1.tsx"],"names":["root","factory","module","exports","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","isBrowser","window","err","withStandardBaseCssClass","Component","defaultBaseCssClass","props","baseCssClass","toBeUsedCssClass","trim","length","mergedProps","assign","withAuthorPanelSwitch","super","state","Granite","author","MessageChannel","messageChannel","callback","message","data","id","cqPath","operation","index","setState","activeIndexFromAuthorPanel","subscribeRequestMessage","unsubscribeRequestMessage","CarouselV1IsEmptyFn","cqItemsOrder","formatFn","args","content","replacement","replace","CarouselV1Impl","interval","clearAutoPlay","clearInterval","activeIndex","isMouseEntered","autoPlay","autoplay","isInEditor","componentMapping","handleIndicatorClick","handleOnButtonPrev","handleOnButtonNext","handleOnMouseEnter","handleOnMouseLeave","prevProps","prevState","snapshot","undefined","toggleAutoPlay","autopauseDisabled","prevSlide","nextSlide","setInterval","autoPlayTick","delay","toggle","__getActiveIndex","__setSlide","isEmpty","createElement","className","role","accessibilityLabel","renderCarousel","placeholderComponent","item","isActive","display","cssClass","ariaLabel","accessibility","slide","toString","onMouseEnter","onMouseLeave","childComponents","map","childComponent","displayItem","renderCarouselActions","renderCarouselIndicators","indicators","cqItems","ariaLabelItem","indicator","onClick","type","previous","next","Fragment","pause","play","defaultProps","_allowedComponentPlaceholderListEmptyLabel"],"mappings":"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","file":"x","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@adobe/aem-core-components-react-spa\"] = factory();\n\telse\n\t\troot[\"@adobe/aem-core-components-react-spa\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 18);\n","module.exports = require(\"react\");","module.exports = require(\"@adobe/aem-react-editable-components\");","/*\n *  Copyright 2020 Adobe\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\nimport * as React from 'react';\nconst isBrowser = (() => {\n    try {\n        return typeof window !== 'undefined';\n    }\n    catch (err) {\n        return false;\n    }\n})();\nexport const withStandardBaseCssClass = (Component, defaultBaseCssClass) => {\n    return (props) => {\n        const baseCssClass = props.baseCssClass;\n        const toBeUsedCssClass = baseCssClass && baseCssClass.trim().length > 0 ? baseCssClass : defaultBaseCssClass;\n        const mergedProps = {\n            ...props,\n            baseCssClass: toBeUsedCssClass\n        };\n        return React.createElement(Component, Object.assign({}, mergedProps));\n    };\n};\nexport const withAuthorPanelSwitch = (Component) => {\n    return class extends React.Component {\n        constructor(props) {\n            super(props);\n            this.state = {};\n            //@ts-ignore\n            if (isBrowser && window.Granite && window.Granite.author && window.Granite.author.MessageChannel) {\n                //@ts-ignore\n                this.messageChannel = new window.Granite.author.MessageChannel(\"cqauthor\", window);\n                this.callback = this.callback.bind(this);\n            }\n        }\n        callback(message) {\n            if (message.data && message.data.id === this.props.cqPath) {\n                if (message.data.operation === \"navigate\") {\n                    const index = message.data.index;\n                    this.setState({\n                        activeIndexFromAuthorPanel: index\n                    });\n                }\n            }\n        }\n        componentDidMount() {\n            if (this.messageChannel) {\n                this.messageChannel.subscribeRequestMessage(\"cmp.panelcontainer\", this.callback);\n            }\n        }\n        componentWillUnmount() {\n            if (this.messageChannel) {\n                this.messageChannel.unsubscribeRequestMessage(\"cmp.panelcontainer\", this.callback);\n            }\n        }\n        render() {\n            return React.createElement(Component, Object.assign({}, this.props, { activeIndexFromAuthorPanel: this.state.activeIndexFromAuthorPanel }));\n        }\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWJzdHJhY3RDb3JlQ29udGFpbmVyQ29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiQWJzdHJhY3RDb3JlQ29udGFpbmVyQ29tcG9uZW50LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7R0FjRztBQUVILE9BQU8sS0FBSyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBMEIvQixNQUFNLFNBQVMsR0FBRyxDQUFDLEdBQUcsRUFBRTtJQUNwQixJQUFHO1FBQ0MsT0FBTyxPQUFPLE1BQU0sS0FBSyxXQUFXLENBQUM7S0FDeEM7SUFBQSxPQUFNLEdBQUcsRUFBQztRQUNQLE9BQU8sS0FBSyxDQUFDO0tBQ2hCO0FBQ0wsQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUdMLE1BQU0sQ0FBQyxNQUFNLHdCQUF3QixHQUFHLENBRXBDLFNBQTBCLEVBQzFCLG1CQUEwQixFQUNKLEVBQUU7SUFDeEIsT0FBTyxDQUFDLEtBQU8sRUFBRSxFQUFFO1FBRWYsTUFBTSxZQUFZLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQztRQUN4QyxNQUFNLGdCQUFnQixHQUFHLFlBQVksSUFBSSxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQztRQUU3RyxNQUFNLFdBQVcsR0FBSztZQUNsQixHQUFHLEtBQUs7WUFDUixZQUFZLEVBQUUsZ0JBQWdCO1NBQ2pDLENBQUM7UUFFRixPQUFPLG9CQUFDLFNBQVMsb0JBQUssV0FBVyxFQUFJLENBQUM7SUFDMUMsQ0FBQyxDQUFBO0FBQ0wsQ0FBQyxDQUFDO0FBSUYsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsQ0FDakMsU0FBMEIsRUFDTCxFQUFFO0lBRXZCLE9BQU8sS0FBTSxTQUFRLEtBQUssQ0FBQyxTQUFvQztRQUszRCxZQUFZLEtBQU87WUFDZixLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDYixJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQTtZQUVmLFlBQVk7WUFDWixJQUFJLFNBQVMsSUFBSSxNQUFNLENBQUMsT0FBTyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRTtnQkFDOUYsWUFBWTtnQkFDWixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQztnQkFDbkYsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUM1QztRQUNMLENBQUM7UUFFRCxRQUFRLENBQUMsT0FBVztZQUNoQixJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUU7Z0JBQ3ZELElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLEtBQUssVUFBVSxFQUFFO29CQUN2QyxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQWUsQ0FBQztvQkFDM0MsSUFBSSxDQUFDLFFBQVEsQ0FBQzt3QkFDViwwQkFBMEIsRUFBRSxLQUFLO3FCQUNwQyxDQUFDLENBQUE7aUJBQ0w7YUFDSjtRQUNMLENBQUM7UUFFRCxpQkFBaUI7WUFDYixJQUFHLElBQUksQ0FBQyxjQUFjLEVBQUM7Z0JBQ25CLElBQUksQ0FBQyxjQUFjLENBQUMsdUJBQXVCLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQ3BGO1FBQ0wsQ0FBQztRQUVELG9CQUFvQjtZQUNoQixJQUFHLElBQUksQ0FBQyxjQUFjLEVBQUM7Z0JBQ25CLElBQUksQ0FBQyxjQUFjLENBQUMseUJBQXlCLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQ3RGO1FBQ0wsQ0FBQztRQUdELE1BQU07WUFDRixPQUFPLG9CQUFDLFNBQVMsb0JBQUssSUFBSSxDQUFDLEtBQUssSUFBRSwwQkFBMEIsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLDBCQUEwQixJQUFJLENBQUM7UUFDNUcsQ0FBQztLQUNKLENBQUE7QUFFTCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogIENvcHlyaWdodCAyMDIwIEFkb2JlXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtDb250YWluZXJTdGF0ZSwgQWxsb3dlZENvbXBvbmVudHNQcm9wZXJ0aWVzfSBmcm9tICdAYWRvYmUvYWVtLXJlYWN0LWVkaXRhYmxlLWNvbXBvbmVudHMnO1xuaW1wb3J0IHtDb21wb25lbnRUeXBlfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IE1vZGVsIH0gZnJvbSAnQGFkb2JlL2FlbS1zcGEtcGFnZS1tb2RlbC1tYW5hZ2VyJztcblxuZXhwb3J0IGludGVyZmFjZSBIYXNCYXNlQ3NzQ2xhc3N7XG4gICAgYmFzZUNzc0NsYXNzPzpzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29yZUNvbnRhaW5lclByb3BlcnRpZXMgZXh0ZW5kcyBBbGxvd2VkQ29tcG9uZW50c1Byb3BlcnRpZXMsIEhhc0Jhc2VDc3NDbGFzc3tcbiAgICBhY3RpdmVJbmRleEZyb21BdXRob3JQYW5lbD86bnVtYmVyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29yZUNvbnRhaW5lckl0ZW0gZXh0ZW5kcyBNb2RlbCB7XG4gICAgJ2NxOnBhbmVsVGl0bGUnOiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb3JlQ29udGFpbmVyU3RhdGUgZXh0ZW5kcyBDb250YWluZXJTdGF0ZSB7XG5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdXRob3JQYW5lbFN3aXRjaFN0YXRlIHtcbiAgICBhY3RpdmVJbmRleEZyb21BdXRob3JQYW5lbD86IG51bWJlclxufVxuXG5jb25zdCBpc0Jyb3dzZXIgPSAoKCkgPT4ge1xuICAgIHRyeXtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuICAgIH1jYXRjaChlcnIpe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufSkoKTtcblxuXG5leHBvcnQgY29uc3Qgd2l0aFN0YW5kYXJkQmFzZUNzc0NsYXNzID0gPE0gZXh0ZW5kcyBIYXNCYXNlQ3NzQ2xhc3M+XG4oXG4gICAgQ29tcG9uZW50OkNvbXBvbmVudFR5cGU8TT4sXG4gICAgZGVmYXVsdEJhc2VDc3NDbGFzczpzdHJpbmdcbik6UmVhY3QuQ29tcG9uZW50VHlwZTxNPiAgPT4ge1xuICAgIHJldHVybiAocHJvcHM6TSkgPT4ge1xuXG4gICAgICAgIGNvbnN0IGJhc2VDc3NDbGFzcyA9IHByb3BzLmJhc2VDc3NDbGFzcztcbiAgICAgICAgY29uc3QgdG9CZVVzZWRDc3NDbGFzcyA9IGJhc2VDc3NDbGFzcyAmJiBiYXNlQ3NzQ2xhc3MudHJpbSgpLmxlbmd0aCA+IDAgPyBiYXNlQ3NzQ2xhc3MgOiBkZWZhdWx0QmFzZUNzc0NsYXNzO1xuXG4gICAgICAgIGNvbnN0IG1lcmdlZFByb3BzOiBNPSB7XG4gICAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICAgIGJhc2VDc3NDbGFzczogdG9CZVVzZWRDc3NDbGFzc1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiA8Q29tcG9uZW50IHsuLi5tZXJnZWRQcm9wc30gLz47XG4gICAgfVxufTtcblxuXG5cbmV4cG9ydCBjb25zdCB3aXRoQXV0aG9yUGFuZWxTd2l0Y2ggPSA8TSBleHRlbmRzIENvcmVDb250YWluZXJQcm9wZXJ0aWVzPihcbiAgICBDb21wb25lbnQ6Q29tcG9uZW50VHlwZTxNPlxuKTpSZWFjdC5Db21wb25lbnRUeXBlPE0+ID0+IHtcblxuICAgIHJldHVybiBjbGFzcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxNLCBBdXRob3JQYW5lbFN3aXRjaFN0YXRlPiB7XG5cbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIG1lc3NhZ2VDaGFubmVsO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHByb3BzOk0pIHtcbiAgICAgICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB7fVxuXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGlmIChpc0Jyb3dzZXIgJiYgd2luZG93LkdyYW5pdGUgJiYgd2luZG93LkdyYW5pdGUuYXV0aG9yICYmIHdpbmRvdy5HcmFuaXRlLmF1dGhvci5NZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZUNoYW5uZWwgPSBuZXcgd2luZG93LkdyYW5pdGUuYXV0aG9yLk1lc3NhZ2VDaGFubmVsKFwiY3FhdXRob3JcIiwgd2luZG93KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrID0gdGhpcy5jYWxsYmFjay5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGJhY2sobWVzc2FnZTphbnkpe1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YSAmJiBtZXNzYWdlLmRhdGEuaWQgPT09IHRoaXMucHJvcHMuY3FQYXRoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YS5vcGVyYXRpb24gPT09IFwibmF2aWdhdGVcIikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IG1lc3NhZ2UuZGF0YS5pbmRleCBhcyBudW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSW5kZXhGcm9tQXV0aG9yUGFuZWw6IGluZGV4XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29tcG9uZW50RGlkTW91bnQoKTogdm9pZCB7XG4gICAgICAgICAgICBpZih0aGlzLm1lc3NhZ2VDaGFubmVsKXtcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VDaGFubmVsLnN1YnNjcmliZVJlcXVlc3RNZXNzYWdlKFwiY21wLnBhbmVsY29udGFpbmVyXCIsIHRoaXMuY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29tcG9uZW50V2lsbFVubW91bnQoKTogdm9pZCB7XG4gICAgICAgICAgICBpZih0aGlzLm1lc3NhZ2VDaGFubmVsKXtcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VDaGFubmVsLnVuc3Vic2NyaWJlUmVxdWVzdE1lc3NhZ2UoXCJjbXAucGFuZWxjb250YWluZXJcIiwgdGhpcy5jYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIHJlbmRlcigpe1xuICAgICAgICAgICAgcmV0dXJuIDxDb21wb25lbnQgey4uLnRoaXMucHJvcHN9IGFjdGl2ZUluZGV4RnJvbUF1dGhvclBhbmVsPXt0aGlzLnN0YXRlLmFjdGl2ZUluZGV4RnJvbUF1dGhvclBhbmVsfSAvPjtcbiAgICAgICAgfVxuICAgIH1cblxufTtcbiJdfQ==","export function CarouselV1IsEmptyFn(props) {\n    return props.cqItemsOrder == null || props.cqItemsOrder.length === 0;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2Fyb3VzZWxWMUlzRW1wdHlGbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIkNhcm91c2VsVjFJc0VtcHR5Rm4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBa0JBLE1BQU0sVUFBVSxtQkFBbUIsQ0FBQyxLQUEwQjtJQUMxRCxPQUFPLEtBQUssQ0FBQyxZQUFZLElBQUksSUFBSSxJQUFJLEtBQUssQ0FBQyxZQUFZLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztBQUN6RSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICBDb3B5cmlnaHQgMjAyMCBBZG9iZVxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtDb3JlQ29udGFpbmVyUHJvcGVydGllc30gZnJvbSBcIi4uLy4uLy4uL0Fic3RyYWN0Q29yZUNvbnRhaW5lckNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQ2Fyb3VzZWxWMVByb3BlcnRpZXMgfSBmcm9tIFwiLi9DYXJvdXNlbFYxXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBDYXJvdXNlbFYxSXNFbXB0eUZuKHByb3BzOkNhcm91c2VsVjFQcm9wZXJ0aWVzKXtcbiAgICByZXR1cm4gcHJvcHMuY3FJdGVtc09yZGVyID09IG51bGwgfHwgcHJvcHMuY3FJdGVtc09yZGVyLmxlbmd0aCA9PT0gMDtcbn0iXX0=","/*\n *  Copyright 2020 Adobe\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\nimport React from 'react';\nimport { withAuthorPanelSwitch, withStandardBaseCssClass } from \"../../../AbstractCoreContainerComponent\";\nimport { ComponentMapping, Container } from '@adobe/aem-react-editable-components';\nimport { CarouselV1IsEmptyFn } from \"./CarouselV1IsEmptyFn\";\nconst formatFn = (value, args) => {\n    let content = value;\n    for (let i = 0; i < args.length; i++) {\n        const replacement = '{' + i + '}';\n        content = content.replace(replacement, args[i]);\n    }\n    return content;\n};\nclass CarouselV1Impl extends Container {\n    constructor(props) {\n        super(props);\n        this.interval = 0;\n        this.clearAutoPlay = () => {\n            window.clearInterval(this.interval);\n        };\n        //@ts-ignore\n        this.state = {\n            activeIndex: 0,\n            isMouseEntered: false,\n            autoPlay: this.props.autoplay && !this.props.isInEditor,\n            componentMapping: this.props.componentMapping || ComponentMapping\n        };\n        this.handleIndicatorClick = this.handleIndicatorClick.bind(this);\n        this.handleOnButtonPrev = this.handleOnButtonPrev.bind(this);\n        this.handleOnButtonNext = this.handleOnButtonNext.bind(this);\n        this.handleOnMouseEnter = this.handleOnMouseEnter.bind(this);\n        this.handleOnMouseLeave = this.handleOnMouseLeave.bind(this);\n    }\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.props.activeIndexFromAuthorPanel !== undefined && prevProps.activeIndexFromAuthorPanel != this.props.activeIndexFromAuthorPanel) {\n            this.setState({ activeIndex: this.props.activeIndexFromAuthorPanel });\n            this.toggleAutoPlay(false);\n        }\n    }\n    componentDidMount() {\n        this.autoPlay();\n    }\n    componentWillUnmount() {\n        if (this.interval) {\n            this.clearAutoPlay();\n        }\n    }\n    handleOnMouseEnter() {\n        if (!this.props.autopauseDisabled && this.props.autoplay) {\n            this.clearAutoPlay();\n        }\n    }\n    handleOnMouseLeave() {\n        if (!this.props.autopauseDisabled && this.props.autoplay) {\n            this.autoPlay();\n        }\n    }\n    handleOnButtonPrev() {\n        this.prevSlide();\n    }\n    handleOnButtonNext() {\n        this.nextSlide();\n    }\n    handleIndicatorClick(index) {\n        if (this.state.activeIndex !== index) {\n            this.setState({\n                activeIndex: index\n            });\n        }\n    }\n    autoPlay() {\n        this.interval = window.setInterval(() => {\n            this.autoPlayTick();\n        }, this.props.delay);\n    }\n    autoPlayTick() {\n        if (!this.state.autoPlay || this.props.cqItemsOrder.length <= 1) {\n            return;\n        }\n        this.nextSlide();\n    }\n    toggleAutoPlay(toggle) {\n        this.setState({\n            autoPlay: toggle\n        });\n    }\n    nextSlide() {\n        const activeIndex = this.__getActiveIndex();\n        if (activeIndex === (this.props.cqItemsOrder.length - 1)) {\n            this.__setSlide(0);\n        }\n        else {\n            this.__setSlide(activeIndex + 1);\n        }\n    }\n    prevSlide() {\n        const activeIndex = this.__getActiveIndex();\n        if (activeIndex === 0) {\n            this.__setSlide(this.props.cqItemsOrder.length - 1);\n        }\n        else {\n            this.__setSlide(activeIndex - 1);\n        }\n    }\n    __getActiveIndex() {\n        return this.state.activeIndex;\n    }\n    __setSlide(index) {\n        this.setState({\n            activeIndex: index\n        });\n    }\n    render() {\n        const isEmpty = CarouselV1IsEmptyFn(this.props);\n        return (React.createElement(\"div\", { className: this.props.baseCssClass, role: \"group\", \"data-panelcontainer\": \"carousel\", \"aria-label\": this.props.accessibilityLabel, \"aria-roledescription\": \"carousel\" },\n            !isEmpty && this.renderCarousel(),\n            this.placeholderComponent));\n    }\n    displayItem(item, index) {\n        const isActive = index === this.state.activeIndex;\n        //we display the item if active is true, or if we are in the author mode. we need to always display the item for the author mode to work properly.\n        const display = !!(isActive || this.props.isInEditor);\n        const cssClass = isActive ? `${this.props.baseCssClass}__item ${this.props.baseCssClass}__item--active` : `${this.props.baseCssClass}__item`;\n        const ariaLabel = formatFn(this.props.accessibility.slide, [(index + 1).toString(), this.props.cqItemsOrder.length.toString()]);\n        return (React.createElement(\"div\", { key: 'item-' + index, className: cssClass, role: \"tabpanel\", \"aria-label\": ariaLabel, \"data-cmp-hook-carousel\": \"item\" }, display && item));\n    }\n    renderCarousel() {\n        return (React.createElement(\"div\", { className: this.props.baseCssClass + '__content', onMouseEnter: () => this.handleOnMouseEnter(), onMouseLeave: () => this.handleOnMouseLeave() },\n            this.childComponents.map((childComponent, index) => this.displayItem(childComponent, index)),\n            this.renderCarouselActions(),\n            this.renderCarouselIndicators()));\n    }\n    renderCarouselIndicators() {\n        return (React.createElement(\"ol\", { className: this.props.baseCssClass + '__indicators', role: \"tablist\", \"aria-label\": this.props.accessibility.indicators }, this.props.cqItemsOrder.map((key, index) => {\n            const item = this.props.cqItems[key];\n            const cssClass = (index === this.state.activeIndex) ? `${this.props.baseCssClass}__indicator ${this.props.baseCssClass}__indicator--active` : `${this.props.baseCssClass}__indicator`;\n            const ariaLabelItem = formatFn(this.props.accessibility.indicator, [(index + 1).toString()]);\n            return (React.createElement(\"li\", { key: 'item-' + index, onClick: () => this.handleIndicatorClick(index), className: cssClass, role: \"tab\", \"aria-label\": ariaLabelItem }, item[\"cq:panelTitle\"]));\n        })));\n    }\n    renderCarouselActions() {\n        return (React.createElement(\"div\", { className: this.props.baseCssClass + '__actions' },\n            React.createElement(\"button\", { onClick: () => this.handleOnButtonPrev(), className: `${this.props.baseCssClass}__action ${this.props.baseCssClass}__action--previous`, type: \"button\", \"aria-label\": this.props.accessibility.previous },\n                React.createElement(\"span\", { className: this.props.baseCssClass + '__action-icon' }),\n                React.createElement(\"span\", { className: this.props.baseCssClass + '__action-text' }, this.props.accessibility.previous)),\n            React.createElement(\"button\", { onClick: () => this.handleOnButtonNext(), className: `${this.props.baseCssClass}__action ${this.props.baseCssClass}__action--next`, type: \"button\", \"aria-label\": this.props.accessibility.next },\n                React.createElement(\"span\", { className: this.props.baseCssClass + '__action-icon' }),\n                React.createElement(\"span\", { className: this.props.baseCssClass + '__action-text' }, this.props.accessibility.next)),\n            this.props.autoplay &&\n                React.createElement(React.Fragment, null,\n                    React.createElement(\"button\", { className: `${this.props.baseCssClass}__action ${this.props.baseCssClass}__action--pause ` + (!this.state.autoPlay ? this.props.baseCssClass + '__action--disabled' : ''), type: \"button\", \"aria-label\": this.props.accessibility.pause, onClick: () => this.toggleAutoPlay(false) },\n                        React.createElement(\"span\", { className: this.props.baseCssClass + '__action-icon' }),\n                        React.createElement(\"span\", { className: this.props.baseCssClass + '__action-text' }, this.props.accessibility.pause)),\n                    React.createElement(\"button\", { className: `${this.props.baseCssClass}__action ${this.props.baseCssClass}__action--play ` + (this.state.autoPlay ? this.props.baseCssClass + '__action--disabled' : ''), type: \"button\", \"aria-label\": this.props.accessibility.play, onClick: () => this.toggleAutoPlay(true) },\n                        React.createElement(\"span\", { className: this.props.baseCssClass + '__action-icon' }),\n                        React.createElement(\"span\", { className: this.props.baseCssClass + '__action-text' }, this.props.accessibility.play)))));\n    }\n}\nCarouselV1Impl.defaultProps = {\n    _allowedComponentPlaceholderListEmptyLabel: 'CarouselV1',\n    isInEditor: false,\n    autoplay: false,\n    cqPath: '',\n    cqItems: {},\n    cqItemsOrder: [],\n    accessibilityLabel: 'Carousel',\n    accessibility: {\n        play: 'Play',\n        pause: 'Pause',\n        next: 'Next',\n        previous: 'Previous',\n        slide: 'Slide {0} of {1}',\n        indicator: 'Slide %{0}',\n        indicators: 'Choose a slide to display'\n    }\n};\nexport default withStandardBaseCssClass(withAuthorPanelSwitch(CarouselV1Impl), \"cmp-carousel\");\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2Fyb3VzZWxWMS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIkNhcm91c2VsVjEudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7OztHQWNHO0FBRUgsT0FBTyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBRzFCLE9BQU8sRUFBOEMscUJBQXFCLEVBQUUsd0JBQXdCLEVBQW9CLE1BQU0seUNBQXlDLENBQUM7QUFDeEssT0FBTyxFQUFDLGdCQUFnQixFQUFFLFNBQVMsRUFBQyxNQUFNLHNDQUFzQyxDQUFDO0FBRWpGLE9BQU8sRUFBQyxtQkFBbUIsRUFBQyxNQUFNLHVCQUF1QixDQUFDO0FBSTFELE1BQU0sUUFBUSxHQUFHLENBQUMsS0FBWSxFQUFFLElBQWEsRUFBRSxFQUFFO0lBQzdDLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQztJQUNwQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNsQyxNQUFNLFdBQVcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUNsQyxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDbkQ7SUFDRCxPQUFPLE9BQU8sQ0FBQztBQUNuQixDQUFDLENBQUM7QUE0QkYsTUFBTSxjQUFlLFNBQVEsU0FBK0M7SUF3QnhFLFlBQVksS0FBMEI7UUFDbEMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBdkJqQixhQUFRLEdBQUcsQ0FBQyxDQUFDO1FBd0diLGtCQUFhLEdBQUcsR0FBRyxFQUFFO1lBQ2pCLE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3hDLENBQUMsQ0FBQztRQWpGRSxZQUFZO1FBQ1osSUFBSSxDQUFDLEtBQUssR0FBRztZQUNULFdBQVcsRUFBRSxDQUFD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LENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksR0FBRyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQ3ZLLElBQUksRUFBQyxRQUFRLGdCQUNELElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLElBQUksRUFDekMsT0FBTyxFQUFFLEdBQUUsRUFBRSxDQUFBLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDO3dCQUUxQyw4QkFBTSxTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEdBQUcsZUFBZSxHQUFTO3dCQUNuRSw4QkFBTSxTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEdBQUcsZUFBZSxJQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBUSxDQUM3RixDQUNWLENBR0wsQ0FDVCxDQUFBO0lBQ0wsQ0FBQzs7QUF6UU0sMkJBQVksR0FBRztJQUNsQiwwQ0FBMEMsRUFBRSxZQUFZO0lBQ3hELFVBQVUsRUFBRSxLQUFLO0lBQ2pCLFFBQVEsRUFBRSxLQUFLO0lBQ2YsTUFBTSxFQUFFLEVBQUU7SUFDVixPQUFPLEVBQUUsRUFBRTtJQUNYLFlBQVksRUFBRSxFQUFFO0lBQ2hCLGtCQUFrQixFQUFFLFVBQVU7SUFDOUIsYUFBYSxFQUFFO1FBQ1gsSUFBSSxFQUFFLE1BQU07UUFDWixLQUFLLEVBQUUsT0FBTztRQUNkLElBQUksRUFBRSxNQUFNO1FBQ1osUUFBUSxFQUFFLFVBQVU7UUFDcEIsS0FBSyxFQUFFLGtCQUFrQjtRQUN6QixTQUFTLEVBQUUsWUFBWTtRQUN2QixVQUFVLEVBQUUsMkJBQTJCO0tBQzFDO0NBQ0osQ0FBQztBQTRQTixlQUFlLHdCQUF3QixDQUFDLHFCQUFxQixDQUFDLGNBQWMsQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICBDb3B5cmlnaHQgMjAyMCBBZG9iZVxuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5cbmltcG9ydCB7Q29yZUNvbnRhaW5lclByb3BlcnRpZXMsIENvcmVDb250YWluZXJTdGF0ZSwgd2l0aEF1dGhvclBhbmVsU3dpdGNoLCB3aXRoU3RhbmRhcmRCYXNlQ3NzQ2xhc3MsIENvcmVDb250YWluZXJJdGVtfSBmcm9tIFwiLi4vLi4vLi4vQWJzdHJhY3RDb3JlQ29udGFpbmVyQ29tcG9uZW50XCI7XG5pbXBvcnQge0NvbXBvbmVudE1hcHBpbmcsIENvbnRhaW5lcn0gZnJvbSAnQGFkb2JlL2FlbS1yZWFjdC1lZGl0YWJsZS1jb21wb25lbnRzJztcblxuaW1wb3J0IHtDYXJvdXNlbFYxSXNFbXB0eUZufSBmcm9tIFwiLi9DYXJvdXNlbFYxSXNFbXB0eUZuXCI7XG5pbXBvcnQge1RhYnNWMVByb3BlcnRpZXMsIFRhYnNWMVN0YXRlfSBmcm9tIFwiLi4vLi4vLi5cIjtcblxuXG5jb25zdCBmb3JtYXRGbiA9ICh2YWx1ZTpzdHJpbmcsIGFyZ3M6c3RyaW5nW10pID0+IHtcbiAgICBsZXQgY29udGVudCA9IHZhbHVlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCByZXBsYWNlbWVudCA9ICd7JyArIGkgKyAnfSc7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UocmVwbGFjZW1lbnQsIGFyZ3NbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudDtcbn07XG5cblxuXG5leHBvcnQgaW50ZXJmYWNlIENhcm91c2VsVjFQcm9wZXJ0aWVzIGV4dGVuZHMgQ29yZUNvbnRhaW5lclByb3BlcnRpZXN7XG4gICAgYXV0b3BsYXk6IGJvb2xlYW47XG4gICAgYXV0b3BhdXNlRGlzYWJsZWQ6IGJvb2xlYW47XG4gICAgYWNjZXNzaWJpbGl0eUxhYmVsOnN0cmluZztcbiAgICBhY2Nlc3NpYmlsaXR5OiBDYXJvdXNlbFYxQWNjZXNzaWJpbGl0eVByb3BlcnRpZXM7XG4gICAgZGVsYXk6IG51bWJlcjtcbiAgICBjcUl0ZW1zOiB7IFtrZXk6IHN0cmluZ106IENvcmVDb250YWluZXJJdGVtIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2Fyb3VzZWxWMUFjY2Vzc2liaWxpdHlQcm9wZXJ0aWVze1xuICAgIHBsYXk6IHN0cmluZztcbiAgICBwYXVzZTogc3RyaW5nO1xuICAgIG5leHQ6IHN0cmluZztcbiAgICBwcmV2aW91czogc3RyaW5nO1xuICAgIHNsaWRlOiBzdHJpbmc7XG4gICAgaW5kaWNhdG9yOiBzdHJpbmc7XG4gICAgaW5kaWNhdG9yczogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBDYXJvdXNlbFYxU3RhdGUgZXh0ZW5kcyBDb3JlQ29udGFpbmVyU3RhdGV7XG4gICAgYWN0aXZlSW5kZXg6IG51bWJlcixcbiAgICBpc01vdXNlRW50ZXJlZDogYm9vbGVhbixcbiAgICBhdXRvUGxheTogYm9vbGVhbixcbn1cblxuY2xhc3MgQ2Fyb3VzZWxWMUltcGwgZXh0ZW5kcyBDb250YWluZXI8Q2Fyb3VzZWxWMVByb3BlcnRpZXMsQ2Fyb3VzZWxWMVN0YXRlPiB7XG5cbiAgICBpbnRlcnZhbCA9IDA7XG5cblxuICAgIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIF9hbGxvd2VkQ29tcG9uZW50UGxhY2Vob2xkZXJMaXN0RW1wdHlMYWJlbDogJ0Nhcm91c2VsVjEnLFxuICAgICAgICBpc0luRWRpdG9yOiBmYWxzZSxcbiAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgICAgICBjcVBhdGg6ICcnLFxuICAgICAgICBjcUl0ZW1zOiB7fSxcbiAgICAgICAgY3FJdGVtc09yZGVyOiBbXSxcbiAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsOiAnQ2Fyb3VzZWwnLFxuICAgICAgICBhY2Nlc3NpYmlsaXR5OiB7XG4gICAgICAgICAgICBwbGF5OiAnUGxheScsXG4gICAgICAgICAgICBwYXVzZTogJ1BhdXNlJyxcbiAgICAgICAgICAgIG5leHQ6ICdOZXh0JyxcbiAgICAgICAgICAgIHByZXZpb3VzOiAnUHJldmlvdXMnLFxuICAgICAgICAgICAgc2xpZGU6ICdTbGlkZSB7MH0gb2YgezF9JyxcbiAgICAgICAgICAgIGluZGljYXRvcjogJ1NsaWRlICV7MH0nLFxuICAgICAgICAgICAgaW5kaWNhdG9yczogJ0Nob29zZSBhIHNsaWRlIHRvIGRpc3BsYXknXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6Q2Fyb3VzZWxWMVByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgYWN0aXZlSW5kZXg6IDAsXG4gICAgICAgICAgICBpc01vdXNlRW50ZXJlZDogZmFsc2UsXG4gICAgICAgICAgICBhdXRvUGxheTogdGhpcy5wcm9wcy5hdXRvcGxheSAmJiAhdGhpcy5wcm9wcy5pc0luRWRpdG9yLFxuICAgICAgICAgICAgY29tcG9uZW50TWFwcGluZzogdGhpcy5wcm9wcy5jb21wb25lbnRNYXBwaW5nIHx8IENvbXBvbmVudE1hcHBpbmdcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmhhbmRsZUluZGljYXRvckNsaWNrID0gdGhpcy5oYW5kbGVJbmRpY2F0b3JDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZU9uQnV0dG9uUHJldiAgID0gdGhpcy5oYW5kbGVPbkJ1dHRvblByZXYuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVPbkJ1dHRvbk5leHQgICA9IHRoaXMuaGFuZGxlT25CdXR0b25OZXh0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlT25Nb3VzZUVudGVyICAgPSB0aGlzLmhhbmRsZU9uTW91c2VFbnRlci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZU9uTW91c2VMZWF2ZSAgID0gdGhpcy5oYW5kbGVPbk1vdXNlTGVhdmUuYmluZCh0aGlzKTtcblxuICAgIH1cblxuICAgIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IFJlYWRvbmx5PFRhYnNWMVByb3BlcnRpZXM+LCBwcmV2U3RhdGU6IFJlYWRvbmx5PFRhYnNWMVN0YXRlPiwgc25hcHNob3Q/OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYodGhpcy5wcm9wcy5hY3RpdmVJbmRleEZyb21BdXRob3JQYW5lbCAhPT0gdW5kZWZpbmVkICYmIHByZXZQcm9wcy5hY3RpdmVJbmRleEZyb21BdXRob3JQYW5lbCAhPSB0aGlzLnByb3BzLmFjdGl2ZUluZGV4RnJvbUF1dGhvclBhbmVsKXtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhY3RpdmVJbmRleDogdGhpcy5wcm9wcy5hY3RpdmVJbmRleEZyb21BdXRob3JQYW5lbCB9ICk7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUF1dG9QbGF5KGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb21wb25lbnREaWRNb3VudCgpe1xuICAgICAgICB0aGlzLmF1dG9QbGF5KCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKXtcbiAgICAgICAgaWYodGhpcy5pbnRlcnZhbCl7XG4gICAgICAgICAgICB0aGlzLmNsZWFyQXV0b1BsYXkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZU9uTW91c2VFbnRlcigpe1xuICAgICAgICBpZighdGhpcy5wcm9wcy5hdXRvcGF1c2VEaXNhYmxlZCAmJiB0aGlzLnByb3BzLmF1dG9wbGF5KXtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJBdXRvUGxheSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlT25Nb3VzZUxlYXZlKCl7XG4gICAgICAgIGlmKCF0aGlzLnByb3BzLmF1dG9wYXVzZURpc2FibGVkICYmIHRoaXMucHJvcHMuYXV0b3BsYXkpe1xuICAgICAgICAgICAgdGhpcy5hdXRvUGxheSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlT25CdXR0b25QcmV2KCl7XG4gICAgICAgIHRoaXMucHJldlNsaWRlKCk7XG4gICAgfVxuXG4gICAgaGFuZGxlT25CdXR0b25OZXh0KCl7XG4gICAgICAgIHRoaXMubmV4dFNsaWRlKCk7XG4gICAgfVxuXG5cbiAgICBoYW5kbGVJbmRpY2F0b3JDbGljayhpbmRleDpudW1iZXIpe1xuXG4gICAgICAgIGlmKHRoaXMuc3RhdGUuYWN0aXZlSW5kZXggIT09IGluZGV4KXtcblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgYWN0aXZlSW5kZXg6IGluZGV4XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGF1dG9QbGF5KCl7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hdXRvUGxheVRpY2soKTtcbiAgICAgICAgfSwgdGhpcy5wcm9wcy5kZWxheSk7XG4gICAgfVxuXG4gICAgYXV0b1BsYXlUaWNrKCkge1xuXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5hdXRvUGxheSB8fCB0aGlzLnByb3BzLmNxSXRlbXNPcmRlci5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5uZXh0U2xpZGUoKTtcbiAgICB9XG5cbiAgICBjbGVhckF1dG9QbGF5ID0gKCkgPT4ge1xuICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcbiAgICB9O1xuXG4gICAgdG9nZ2xlQXV0b1BsYXkodG9nZ2xlOmJvb2xlYW4pe1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGF1dG9QbGF5OiB0b2dnbGVcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBuZXh0U2xpZGUoKXtcblxuICAgICAgICBjb25zdCBhY3RpdmVJbmRleCA9IHRoaXMuX19nZXRBY3RpdmVJbmRleCgpO1xuXG4gICAgICAgIGlmKGFjdGl2ZUluZGV4PT09ICh0aGlzLnByb3BzLmNxSXRlbXNPcmRlci5sZW5ndGgtMSkpe1xuXG4gICAgICAgICAgICB0aGlzLl9fc2V0U2xpZGUoMCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5fX3NldFNsaWRlKGFjdGl2ZUluZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcmV2U2xpZGUoKXtcbiAgICAgICAgY29uc3QgYWN0aXZlSW5kZXggPSB0aGlzLl9fZ2V0QWN0aXZlSW5kZXgoKTtcbiAgICAgICAgaWYoYWN0aXZlSW5kZXggPT09IDApe1xuXG4gICAgICAgICAgICB0aGlzLl9fc2V0U2xpZGUodGhpcy5wcm9wcy5jcUl0ZW1zT3JkZXIubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5fX3NldFNsaWRlKGFjdGl2ZUluZGV4IC0gMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfX2dldEFjdGl2ZUluZGV4KCl7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYWN0aXZlSW5kZXg7XG4gICAgfVxuXG4gICAgX19zZXRTbGlkZShpbmRleDpudW1iZXIpe1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgYWN0aXZlSW5kZXg6IGluZGV4XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG5cbiAgICByZW5kZXIoKSB7XG5cbiAgICAgICAgY29uc3QgaXNFbXB0eSA9IENhcm91c2VsVjFJc0VtcHR5Rm4odGhpcy5wcm9wcyk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5wcm9wcy5iYXNlQ3NzQ2xhc3N9XG4gICAgICAgICAgICAgICAgIHJvbGU9XCJncm91cFwiXG4gICAgICAgICAgICAgICAgIGRhdGEtcGFuZWxjb250YWluZXI9XCJjYXJvdXNlbFwiXG4gICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuYWNjZXNzaWJpbGl0eUxhYmVsfVxuICAgICAgICAgICAgICAgICBhcmlhLXJvbGVkZXNjcmlwdGlvbj1cImNhcm91c2VsXCI+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAhaXNFbXB0eSAmJiB0aGlzLnJlbmRlckNhcm91c2VsKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeyB0aGlzLnBsYWNlaG9sZGVyQ29tcG9uZW50IH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG5cbiAgICB9XG5cbiAgICBkaXNwbGF5SXRlbShpdGVtOkpTWC5FbGVtZW50LCBpbmRleDpudW1iZXIpe1xuXG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gaW5kZXggPT09IHRoaXMuc3RhdGUuYWN0aXZlSW5kZXg7XG4gICAgICAgIC8vd2UgZGlzcGxheSB0aGUgaXRlbSBpZiBhY3RpdmUgaXMgdHJ1ZSwgb3IgaWYgd2UgYXJlIGluIHRoZSBhdXRob3IgbW9kZS4gd2UgbmVlZCB0byBhbHdheXMgZGlzcGxheSB0aGUgaXRlbSBmb3IgdGhlIGF1dGhvciBtb2RlIHRvIHdvcmsgcHJvcGVybHkuXG4gICAgICAgIGNvbnN0IGRpc3BsYXkgPSAhIShpc0FjdGl2ZSB8fCB0aGlzLnByb3BzLmlzSW5FZGl0b3IpO1xuXG4gICAgICAgIGNvbnN0IGNzc0NsYXNzID0gaXNBY3RpdmUgPyBgJHt0aGlzLnByb3BzLmJhc2VDc3NDbGFzc31fX2l0ZW0gJHt0aGlzLnByb3BzLmJhc2VDc3NDbGFzc31fX2l0ZW0tLWFjdGl2ZWAgOiBgJHt0aGlzLnByb3BzLmJhc2VDc3NDbGFzc31fX2l0ZW1gO1xuICAgICAgICBjb25zdCBhcmlhTGFiZWwgPSBmb3JtYXRGbih0aGlzLnByb3BzLmFjY2Vzc2liaWxpdHkuc2xpZGUsIFsoaW5kZXggKyAxKS50b1N0cmluZygpLCB0aGlzLnByb3BzLmNxSXRlbXNPcmRlci5sZW5ndGgudG9TdHJpbmcoKV0pO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGtleT17J2l0ZW0tJyArIGluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Nzc0NsYXNzfVxuICAgICAgICAgICAgICAgICAgICAgICByb2xlPVwidGFicGFuZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXthcmlhTGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgIGRhdGEtY21wLWhvb2stY2Fyb3VzZWw9XCJpdGVtXCI+XG4gICAgICAgICAgICAgICAge2Rpc3BsYXkgJiYgaXRlbX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgfVxuXG4gICAgcmVuZGVyQ2Fyb3VzZWwoKXtcbiAgICAgICAgcmV0dXJuIChcblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMucHJvcHMuYmFzZUNzc0NsYXNzICsgJ19fY29udGVudCd9IG9uTW91c2VFbnRlcj17KCk9PnRoaXMuaGFuZGxlT25Nb3VzZUVudGVyKCl9IG9uTW91c2VMZWF2ZT17KCk9PnRoaXMuaGFuZGxlT25Nb3VzZUxlYXZlKCl9ID5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRDb21wb25lbnRzLm1hcCgoY2hpbGRDb21wb25lbnQsIGluZGV4KSA9PiB0aGlzLmRpc3BsYXlJdGVtKGNoaWxkQ29tcG9uZW50LGluZGV4KSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVyQ2Fyb3VzZWxBY3Rpb25zKCl9XG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVyQ2Fyb3VzZWxJbmRpY2F0b3JzKCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cblxuICAgIHJlbmRlckNhcm91c2VsSW5kaWNhdG9ycygpe1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPG9sIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5iYXNlQ3NzQ2xhc3MgKyAnX19pbmRpY2F0b3JzJ31cbiAgICAgICAgICAgICAgICByb2xlPVwidGFibGlzdFwiXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17dGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5LmluZGljYXRvcnN9PlxuICAgICAgICAgICAgICAgIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNxSXRlbXNPcmRlci5tYXAoKGtleSwgaW5kZXgpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbTpDb3JlQ29udGFpbmVySXRlbSA9IHRoaXMucHJvcHMuY3FJdGVtc1trZXldO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjc3NDbGFzcyA9IChpbmRleCA9PT0gdGhpcy5zdGF0ZS5hY3RpdmVJbmRleCkgPyBgJHt0aGlzLnByb3BzLmJhc2VDc3NDbGFzc31fX2luZGljYXRvciAke3RoaXMucHJvcHMuYmFzZUNzc0NsYXNzfV9faW5kaWNhdG9yLS1hY3RpdmVgIDogYCR7dGhpcy5wcm9wcy5iYXNlQ3NzQ2xhc3N9X19pbmRpY2F0b3JgO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJpYUxhYmVsSXRlbSA9IGZvcm1hdEZuKHRoaXMucHJvcHMuYWNjZXNzaWJpbGl0eS5pbmRpY2F0b3IsIFsoaW5kZXggKyAxKS50b1N0cmluZygpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9eydpdGVtLScgKyBpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCk9PnRoaXMuaGFuZGxlSW5kaWNhdG9yQ2xpY2soaW5kZXgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Nzc0NsYXNzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlPVwidGFiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17YXJpYUxhYmVsSXRlbX0+e2l0ZW1bXCJjcTpwYW5lbFRpdGxlXCJdfTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICA8L29sPlxuICAgICAgICApO1xuICAgIH1cbiAgICByZW5kZXJDYXJvdXNlbEFjdGlvbnMoKXtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmJhc2VDc3NDbGFzcyArICdfX2FjdGlvbnMnfT5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpPT50aGlzLmhhbmRsZU9uQnV0dG9uUHJldigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHt0aGlzLnByb3BzLmJhc2VDc3NDbGFzc31fX2FjdGlvbiAke3RoaXMucHJvcHMuYmFzZUNzc0NsYXNzfV9fYWN0aW9uLS1wcmV2aW91c2B9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuYWNjZXNzaWJpbGl0eS5wcmV2aW91c30+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5iYXNlQ3NzQ2xhc3MgKyAnX19hY3Rpb24taWNvbid9Pjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmJhc2VDc3NDbGFzcyArICdfX2FjdGlvbi10ZXh0J30+e3RoaXMucHJvcHMuYWNjZXNzaWJpbGl0eS5wcmV2aW91c308L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKT0+dGhpcy5oYW5kbGVPbkJ1dHRvbk5leHQoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7dGhpcy5wcm9wcy5iYXNlQ3NzQ2xhc3N9X19hY3Rpb24gJHt0aGlzLnByb3BzLmJhc2VDc3NDbGFzc31fX2FjdGlvbi0tbmV4dGB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuYWNjZXNzaWJpbGl0eS5uZXh0fT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmJhc2VDc3NDbGFzcyArICdfX2FjdGlvbi1pY29uJ30+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3RoaXMucHJvcHMuYmFzZUNzc0NsYXNzICsgJ19fYWN0aW9uLXRleHQnfT57dGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5Lm5leHR9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5hdXRvcGxheSAmJlxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e2Ake3RoaXMucHJvcHMuYmFzZUNzc0NsYXNzfV9fYWN0aW9uICR7dGhpcy5wcm9wcy5iYXNlQ3NzQ2xhc3N9X19hY3Rpb24tLXBhdXNlIGAgKyAoIXRoaXMuc3RhdGUuYXV0b1BsYXkgPyB0aGlzLnByb3BzLmJhc2VDc3NDbGFzcyArICdfX2FjdGlvbi0tZGlzYWJsZWQnIDogJycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17dGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5LnBhdXNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKT0+dGhpcy50b2dnbGVBdXRvUGxheShmYWxzZSl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5iYXNlQ3NzQ2xhc3MgKyAnX19hY3Rpb24taWNvbid9Pjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3RoaXMucHJvcHMuYmFzZUNzc0NsYXNzICsgJ19fYWN0aW9uLXRleHQnfT57dGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5LnBhdXNlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e2Ake3RoaXMucHJvcHMuYmFzZUNzc0NsYXNzfV9fYWN0aW9uICR7dGhpcy5wcm9wcy5iYXNlQ3NzQ2xhc3N9X19hY3Rpb24tLXBsYXkgYCArICh0aGlzLnN0YXRlLmF1dG9QbGF5ID8gdGhpcy5wcm9wcy5iYXNlQ3NzQ2xhc3MgKyAnX19hY3Rpb24tLWRpc2FibGVkJyA6ICcnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuYWNjZXNzaWJpbGl0eS5wbGF5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKT0+dGhpcy50b2dnbGVBdXRvUGxheSh0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3RoaXMucHJvcHMuYmFzZUNzc0NsYXNzICsgJ19fYWN0aW9uLWljb24nfT48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmJhc2VDc3NDbGFzcyArICdfX2FjdGlvbi10ZXh0J30+e3RoaXMucHJvcHMuYWNjZXNzaWJpbGl0eS5wbGF5fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhTdGFuZGFyZEJhc2VDc3NDbGFzcyh3aXRoQXV0aG9yUGFuZWxTd2l0Y2goQ2Fyb3VzZWxWMUltcGwpLCBcImNtcC1jYXJvdXNlbFwiKTsiXX0="]}}